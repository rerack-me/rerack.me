!!! html
%html
  %head
    %title rerack.me
    = stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true
    = javascript_include_tag "application", "data-turbolinks-track" => true
    %meta{:name => "viewport", :content => "width=device-width, user-scalable=no"}
    = csrf_meta_tags
%body
  .container.body
    - if current_player
      %nav.navbar.navbar-inverse.navbar-fixed-top
        .container
          .navbar-header
            %button.navbar-toggle{:type => "button", :"data-toggle" => "collapse", :"data-target" => ".navbar-collapse"}
              %span.sr-only Toggle navigation
              %span.icon-bar
              %span.icon-bar
              %span.icon-bar
            = link_to root_path, :class => "navbar-brand" do
              = image_tag "logo.svg", :class => "navbar-logo"
              %span.navbar-brand-text
                rerack.me
            .visible-xs.pull-right
              = link_to new_game_path, :class => "collapsed-navbar-new-game btn-navbar btn" do
                %span.glyphicon.glyphicon-plus
                Add Game

          .collapse.navbar-collapse
            %ul.nav.navbar-nav
              %li.hidden-xs
                = link_to new_game_path do
                  %span.glyphicon.glyphicon-plus
                  Add Game
              %li
                = link_to games_path do
                  %span.glyphicon.glyphicon-list
                  Game Feed
              %li
                = link_to players_path do
                  %span.glyphicon.glyphicon-fire
                  Rankings

            %ul.nav.navbar-nav.navbar-right
              %li
                = link_to current_player do
                  %span.glyphicon.glyphicon-user
                  #{current_player.username}
              %li
                = link_to destroy_player_session_path, :method => "DELETE" do
                  %span.glyphicon.glyphicon-log-out
                  Sign Out
    - else # not logged in
      %h1.text-center rerack.me
      %p.text-center The best pong player ranking system.
            
    - flash.each do |key, value|
      - case key.to_s
      - when "notice"
        - alert_class = "success"
      - when "error"
        - alert_class = "danger"
      - else
        - alert_class = "info"
      .alert{:class => "alert-#{alert_class}"}
        = value

    = yield
